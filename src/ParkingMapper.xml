<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ParkingMapper">

<!-- 주차장 API 정보를 추가 @author yeahni -->
<insert id="insert" parameterType="Parking">
	INSERT INTO PARKING (
	  	parking_name,
	  	parking_address,
	  	parking_phone_number,
	  	parking_latitude,
	 	parking_longitude,
	  	parking_status,
	  	parking_operation,
	  	parking_type,
	 	parking_is_machine,
	 	parking_impossible_car_type,
	 	parking_pay_type,
		parking_capacity,
	 	parking_cur_seat,
	  	parking_rates,
		parking_rates_time,
		parking_add_rates,
	 	parking_add_rates_time,
	 	parking_day_rates,
	 	parking_month_rates,
	 	parking_weekdays_begin_time,
	 	parking_weekdays_end_time,
	 	parking_sat_begin_time,
	 	parking_sat_end_time,
		parking_holidays_begin_time,
		parking_holidays_end_time
	)
	
	VALUES (
		#{parking_name},
		#{parking_address},
		#{parking_phone_number},
		#{parking_latitude},
	 	#{parking_longitude},	
		#{parking_status},
		#{parking_operation},
		#{parking_type},
		#{parking_is_machine},
		#{parking_impossible_car_type},
		#{parking_pay_type},
		#{parking_capacity},
		#{parking_cur_seat},
		#{parking_rates},
		#{parking_rates_time},
		#{parking_add_rates},
		#{parking_add_rates_time},
		#{parking_day_rates},
		#{parking_month_rates},
		#{parking_weekdays_begin_time},
		#{parking_weekdays_end_time},
		#{parking_sat_begin_time},
		#{parking_sat_end_time},
		#{parking_holidays_begin_time},
		#{parking_holidays_end_time}
	);
</insert>

<!-- 전체 주차장 정보 가져오기 @author yeahni -->
<select id="selectAll" resultType="Parking">
	SELECT * FROM parking order by parking_code desc
</select>

<insert id="parkingAdd" parameterType="Parking">
	insert into parking values ;
</insert>

<!-- 주차장 코드로 정보 가져오기 @author yeahni -->
<select id="selectByCode" parameterType="Parking" resultType="Parking">
	SELECT * 
	FROM parking
	WHERE parking_code = #{parking_code};
</select>

<!-- @author hawstrike -->
<select id="selectByLocation" parameterType="String" resultType="Parking">
	SELECT 
		parking_name, parking_address, parking_phone_number, parking_pay_type, parking_capacity,
		parking_cur_seat, parking_latitude, parking_longitude, parking_weekdays_begin_time, parking_weekdays_end_time,
		parking_rates, parking_rates_time
	FROM parking
	WHERE parking_address LIKE #{value}
</select>

</mapper>